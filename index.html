<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Notizen</title>
  <style>
    :root {
      --main-bg: linear-gradient(135deg, #89f7fe, #66a6ff);
      --note-bg: #fff;
      --note-pinned: #ffe066;
      --btn-color: #4a4a4a;
    }

    body {
      margin: 0;
      font-family: "Segoe UI", sans-serif;
      background: var(--main-bg);
      min-height: 100vh;
      display: flex;
      flex-direction: column;
      align-items: center;
      padding: 2rem;
      color: #333;
      transition: all 0.3s ease;
    }

    h1 {
      font-size: 2.5rem;
      margin-bottom: 1rem;
    }

    .input-group {
      display: flex;
      gap: 0.5rem;
      margin-bottom: 1rem;
      flex-wrap: wrap;
      justify-content: center;
    }

    input, button {
      padding: 0.5rem 1rem;
      font-size: 1rem;
      border: none;
      border-radius: 8px;
      transition: transform 0.2s ease;
    }

    input {
      width: 250px;
      max-width: 80vw;
    }

    button {
      background-color: var(--btn-color);
      color: white;
      cursor: pointer;
    }

    button:hover {
      transform: scale(1.05);
    }

    .notes {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
      gap: 1rem;
      width: 100%;
      max-width: 1000px;
    }

    .note {
      background-color: var(--note-bg);
      padding: 1rem;
      border-radius: 12px;
      box-shadow: 0 5px 10px rgba(0,0,0,0.1);
      position: relative;
      transition: transform 0.2s ease;
    }

    .note.pinned {
      background-color: var(--note-pinned);
    }

    .note:hover {
      transform: translateY(-5px);
    }

    .note button {
      position: absolute;
      top: 0.5rem;
      right: 0.5rem;
      background: red;
    }

    .note .pin-btn {
      top: 0.5rem;
      right: 3rem;
      background: orange;
    }

    .area {
      display: none;
      flex-direction: column;
      align-items: center;
      margin-top: 2rem;
    }

    .note-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 1rem;
    }

    .back-btn {
      margin-top: 1rem;
    }

  </style>
</head>
<body>
  <h1>üìù Notizen</h1>

  <div class="input-group">
    <input id="noteInput" type="text" placeholder="Neue Notiz eingeben">
    <button onclick="addNote()">Hinzuf√ºgen</button>
    <button onclick="openPrivateArea()">üîí Privat</button>
    <button onclick="openAdmin()">üõ†Ô∏è Admin</button>
  </div>

  <div class="notes" id="notesContainer"></div>

  <!-- Privatbereich -->
  <div class="area" id="privateArea">
    <h2>Privater Bereich</h2>
    <button onclick="loginPrivate('Marlon')">Marlon</button>
    <button onclick="loginPrivate('Mats')">Mats</button>
    <input id="privatePassword" type="password" placeholder="Passwort">
    <button onclick="checkPrivateLogin()">Einloggen</button>
    <button onclick="backToMain()" class="back-btn">‚¨ÖÔ∏è Zur√ºck</button>
  </div>

  <!-- Adminbereich -->
  <div class="area" id="adminArea">
    <h2>Adminbereich</h2>
    <input id="adminPassword" type="password" placeholder="Admin Passwort">
    <button onclick="checkAdminLogin()">Einloggen</button>
    <div id="adminNotes" class="notes"></div>
    <button onclick="backToMain()" class="back-btn">‚¨ÖÔ∏è Zur√ºck</button>
  </div>

  <script>
    const notesContainer = document.getElementById("notesContainer");
    const noteInput = document.getElementById("noteInput");
    const privateArea = document.getElementById("privateArea");
    const adminArea = document.getElementById("adminArea");
    const privatePassword = document.getElementById("privatePassword");
    const adminPassword = document.getElementById("adminPassword");
    const adminNotes = document.getElementById("adminNotes");

    let privateUser = null;

    function saveNotes(notes) {
      localStorage.setItem("notes", JSON.stringify(notes));
    }

    function getNotes() {
      return JSON.parse(localStorage.getItem("notes") || "[]");
    }

    function renderNotes() {
      const notes = getNotes();
      notesContainer.innerHTML = "";
      notes.forEach((note, index) => {
        if (!note.private) {
          const div = document.createElement("div");
          div.className = "note" + (note.pinned ? " pinned" : "");
          div.innerHTML = `
            ${note.text}
            <button onclick="deleteNote(${index})">‚úñ</button>
            <button class="pin-btn" onclick="togglePin(${index})">üìå</button>
          `;
          notesContainer.appendChild(div);
        }
      });
    }

    function addNote() {
      const text = noteInput.value.trim();
      if (!text) return;
      const notes = getNotes();
      notes.push({ text, pinned: false, private: false });
      saveNotes(notes);
      noteInput.value = "";
      renderNotes();
    }

    function deleteNote(index) {
      const notes = getNotes();
      notes.splice(index, 1);
      saveNotes(notes);
      renderNotes();
    }

    function togglePin(index) {
      const notes = getNotes();
      notes[index].pinned = !notes[index].pinned;
      saveNotes(notes);
      renderNotes();
    }

    function openPrivateArea() {
      privateArea.style.display = "flex";
      adminArea.style.display = "none";
      notesContainer.style.display = "none";
    }

    function loginPrivate(name) {
      privateUser = name;
    }

    function checkPrivateLogin() {
      const pw = privatePassword.value;
      if ((privateUser === "Marlon" && pw === "Marlon") || (privateUser === "Mats" && pw === "Mats")) {
        alert(`Willkommen ${privateUser}`);
      } else {
        alert("Falsches Passwort!");
        return;
      }
    }

    function openAdmin() {
      adminArea.style.display = "flex";
      privateArea.style.display = "none";
      notesContainer.style.display = "none";
    }

    function checkAdminLogin() {
      if (adminPassword.value === "Admin") {
        const notes = getNotes();
        adminNotes.innerHTML = "";
        notes.forEach((note, index) => {
          if (note.pinned) {
            const div = document.createElement("div");
            div.className = "note pinned";
            div.innerHTML = `
              ${note.text}
              <button onclick="adminDelete(${index})">üóëÔ∏è</button>
            `;
            adminNotes.appendChild(div);
          }
        });
      } else {
        alert("Falsches Admin-Passwort!");
      }
    }

    function adminDelete(index) {
      const notes = getNotes();
      notes.splice(index, 1);
      saveNotes(notes);
      checkAdminLogin(); // reload list
      renderNotes();
    }

    function backToMain() {
      privateArea.style.display = "none";
      adminArea.style.display = "none";
      notesContainer.style.display = "grid";
    }

    renderNotes();
  </script>
</body>
</html>
